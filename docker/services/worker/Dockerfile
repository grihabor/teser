FROM tesver/flask.base:latest
MAINTAINER Borodin Gregory <grihabor@mail.ru>

ENV PROJECT_ROOT /project
ENV PYTHONPATH $PROJECT_ROOT/src:$PYTHONPATH

ENV VOLUME_KEYS $PROJECT_ROOT/keys
ENV VOLUME_LOGS $PROJECT_ROOT/logs
ENV VOLUME_RESULTS $PROJECT_ROOT/results

VOLUME $VOLUME_KEYS
VOLUME $VOLUME_LOGS
VOLUME $VOLUME_RESULTS

WORKDIR $PROJECT_ROOT
ADD src ./src

CMD celery -A tasks worker --loglevel=info
